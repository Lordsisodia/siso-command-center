# 2026-02-17 — Memory Log

## Server Recovery & Workspace Setup

**Problem:** Mac Mini server went down. Reconnected OpenClaw to external drive.

**What we did:**
1. Found all data on SISO-STORAGE-VAULT external drive
2. Discovered workspace structure in COMMAND-CENTER
3. Copied session data from `state/agents/` to `WORKSPACES/[WS]/agents/`
4. Found only os-researcher had full MD files - rest were lost
5. Identified 6 workspaces: PLAYGROUND, Agent OS, RESEARCH, INTERNAL, AGENCY, ECOMSAAS
6. Set up new memory architecture

---

## Memory Architecture Decision

**Decided structure:**
- `memory/USER.md` — ONE global file, symlinked into every agent
- `WORKSPACES/[WS]/workspace/Workspace.md` — workspace-specific info
- `agents/[AGENT]/identity.md` — agent-specific (private)
- `agents/[AGENT]/soul.md` — agent-specific (private)
- `agents/[AGENT]/memory.md` — agent knowledge

**Why:**
- One source of truth for USER.md (scales to hundreds of agents)
- Workspace memory for team context
- Agent identity stays private

---

## Files Created

### Global (memory/)
- `memory/USER.md` — Global user context
- `memory/architecture.md` — Memory system spec
- `memory/SETUP-CHECKLIST.md` — Implementation tracker
- `memory/templates/agent/` — Templates for new agents

### Workspaces
- All 6 workspaces now have `workspace/Workspace.md`

### Agents (legacy specifically)
- `WORKSPACES/PLAYGROUND/agents/legacy/identity.md`
- `WORKSPACES/PLAYGROUND/agents/legacy/soul.md`
- `WORKSPACES/PLAYGROUND/agents/legacy/memory.md`
- USER.md symlinked for all 9 agents

---

## Key Locations

| Item | Path |
|------|------|
| Global USER.md | `COMMAND-CENTER/memory/USER.md` |
| Memory spec | `COMMAND-CENTER/memory/architecture.md` |
| Legacy agent | `WORKSPACES/PLAYGROUND/agents/legacy/` |
| Config | `COMMAND-CENTER/state/openclaw.json` |

---

## Issues to Resolve

- Need to verify OpenClaw actually loads the memory files
- Need to set up other PM agents with identity/soul/memory
- Workspace "main" renamed to "legacy" (but config still says "main")

---

## OpenClaw Memory System Research

**How it works:**
- Memory files in agent workspace: `memory/YYYY-MM-DD.md` (daily logs), `MEMORY.md` (long-term)
- Auto-flush: When session nears token limit, agent auto-prompts itself to write memories
- Search: Vector (semantic) + BM25 (keyword) hybrid search
- Embeddings: OpenAI / Gemini / Voyage / Local (node-llama-cpp)
- Session indexing: Optional - can index session JSONL files for search

**What Legacy currently has:**
- `agents/legacy/MEMORY.md` ✅ (long-term)
- `agents/legacy/memory.md` ✅ (exists but needs daily logs folder)
- `agents/legacy/USER.md` → symlink to global ✅

**Tested:** USER.md symlink works - file readable through symlink ✅

---

## Open Questions for Next Session

1. Daily memory folder - create `agents/legacy/memory/` for daily logs?
2. Session indexing - enable searching past sessions?
3. Workspace knowledge - fill in Workspace.md files with actual content

---

*Updated: 2026-02-17 19:13*
